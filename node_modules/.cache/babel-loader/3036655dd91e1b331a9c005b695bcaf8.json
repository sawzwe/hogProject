{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pypho\\\\Desktop\\\\hogProject\\\\src\\\\auth\\\\AuthGuard.js\",\n  _s = $RefreshSig$();\nimport PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\n// components\nimport LoadingScreen from '../components/loading-screen';\n//\nimport Login from '../pages/LoginPage';\nimport { useAuthContext } from './useAuthContext';\n\n// ----------------------------------------------------------------------\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nAuthGuard.propTypes = {\n  children: PropTypes.node\n};\nexport default function AuthGuard(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  const {\n    isAuthenticated,\n    isInitialized\n  } = useAuthContext();\n  const {\n    pathname\n  } = useLocation();\n  const [requestedLocation, setRequestedLocation] = useState(null);\n  if (!isInitialized) {\n    return /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 12\n    }, this);\n  }\n  if (!isAuthenticated) {\n    if (pathname !== requestedLocation) {\n      setRequestedLocation(pathname);\n    }\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 12\n    }, this);\n  }\n  if (requestedLocation && pathname !== requestedLocation) {\n    setRequestedLocation(null);\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: requestedLocation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false);\n}\n_s(AuthGuard, \"vXdgm0TPaTMNYkZqskjogZf1uUI=\", false, function () {\n  return [useAuthContext, useLocation];\n});\n_c = AuthGuard;\nvar _c;\n$RefreshReg$(_c, \"AuthGuard\");","map":{"version":3,"names":["PropTypes","useState","Navigate","useLocation","LoadingScreen","Login","useAuthContext","AuthGuard","propTypes","children","node","isAuthenticated","isInitialized","pathname","requestedLocation","setRequestedLocation"],"sources":["C:/Users/pypho/Desktop/hogProject/src/auth/AuthGuard.js"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\n// components\r\nimport LoadingScreen from '../components/loading-screen';\r\n//\r\nimport Login from '../pages/LoginPage';\r\nimport { useAuthContext } from './useAuthContext';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nAuthGuard.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default function AuthGuard({ children }) {\r\n  const { isAuthenticated, isInitialized } = useAuthContext();\r\n\r\n  const { pathname } = useLocation();\r\n\r\n  const [requestedLocation, setRequestedLocation] = useState(null);\r\n\r\n  if (!isInitialized) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    if (pathname !== requestedLocation) {\r\n      setRequestedLocation(pathname);\r\n    }\r\n    return <Navigate to=\"/login\" />\r\n  }\r\n\r\n  if (requestedLocation && pathname !== requestedLocation) {\r\n    setRequestedLocation(null);\r\n    return <Navigate to={requestedLocation} />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"mappings":";;AAAA,OAAOA,SAAS,MAAM,YAAY;AAClC,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD;AACA,OAAOC,aAAa,MAAM,8BAA8B;AACxD;AACA,OAAOC,KAAK,MAAM,oBAAoB;AACtC,SAASC,cAAc,QAAQ,kBAAkB;;AAEjD;AAAA;AAAA;AAEAC,SAAS,CAACC,SAAS,GAAG;EACpBC,QAAQ,EAAET,SAAS,CAACU;AACtB,CAAC;AAED,eAAe,SAASH,SAAS,OAAe;EAAA;EAAA,IAAd;IAAEE;EAAS,CAAC;EAC5C,MAAM;IAAEE,eAAe;IAAEC;EAAc,CAAC,GAAGN,cAAc,EAAE;EAE3D,MAAM;IAAEO;EAAS,CAAC,GAAGV,WAAW,EAAE;EAElC,MAAM,CAACW,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAEhE,IAAI,CAACW,aAAa,EAAE;IAClB,oBAAO,QAAC,aAAa;MAAA;MAAA;MAAA;IAAA,QAAG;EAC1B;EAEA,IAAI,CAACD,eAAe,EAAE;IACpB,IAAIE,QAAQ,KAAKC,iBAAiB,EAAE;MAClCC,oBAAoB,CAACF,QAAQ,CAAC;IAChC;IACA,oBAAO,QAAC,QAAQ;MAAC,EAAE,EAAC;IAAQ;MAAA;MAAA;MAAA;IAAA,QAAG;EACjC;EAEA,IAAIC,iBAAiB,IAAID,QAAQ,KAAKC,iBAAiB,EAAE;IACvDC,oBAAoB,CAAC,IAAI,CAAC;IAC1B,oBAAO,QAAC,QAAQ;MAAC,EAAE,EAAED;IAAkB;MAAA;MAAA;MAAA;IAAA,QAAG;EAC5C;EAEA,oBAAO;IAAA,UAAGL;EAAQ,iBAAI;AACxB;AAAC,GAxBuBF,SAAS;EAAA,QACYD,cAAc,EAEpCH,WAAW;AAAA;AAAA,KAHVI,SAAS;AAAA;AAAA"},"metadata":{},"sourceType":"module"}