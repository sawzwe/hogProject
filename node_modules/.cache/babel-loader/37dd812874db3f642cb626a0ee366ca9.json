{"ast":null,"code":"import { addUniqueItem, removeItem } from '@motionone/utils';\nlet scheduled = undefined;\nfunction processScheduledAnimations() {\n  if (!scheduled) return;\n  const generators = scheduled.sort(compareByDepth).map(fireAnimateUpdates);\n  generators.forEach(fireNext);\n  generators.forEach(fireNext);\n  scheduled = undefined;\n}\nfunction scheduleAnimation(state) {\n  if (!scheduled) {\n    scheduled = [state];\n    requestAnimationFrame(processScheduledAnimations);\n  } else {\n    addUniqueItem(scheduled, state);\n  }\n}\nfunction unscheduleAnimation(state) {\n  scheduled && removeItem(scheduled, state);\n}\nconst compareByDepth = (a, b) => a.getDepth() - b.getDepth();\nconst fireAnimateUpdates = state => state.animateUpdates();\nconst fireNext = iterator => iterator.next();\nexport { scheduleAnimation, unscheduleAnimation };","map":null,"metadata":{},"sourceType":"module"}