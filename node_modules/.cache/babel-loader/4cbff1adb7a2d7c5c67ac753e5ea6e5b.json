{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pypho\\\\Desktop\\\\hogProject\\\\src\\\\sections\\\\auth\\\\AuthChangePasswordForm.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport * as Yup from 'yup';\nimport { useNavigate } from 'react-router-dom';\n// form\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm } from 'react-hook-form';\n// @mui\nimport { Link, Stack, Alert, IconButton, InputAdornment } from '@mui/material';\nimport { LoadingButton } from '@mui/lab';\n// auth\nimport { useAuthContext } from '../../auth/useAuthContext';\n// components\nimport Iconify from '../../components/iconify';\nimport FormProvider, { RHFTextField } from '../../components/hook-form';\n\n// ----------------------------------------------------------------------\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AuthResetPasswordForm() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    changePassword,\n    logout\n  } = useAuthContext();\n  const [showNewPassword, setShowNewPassword] = useState(false);\n  const [showConfirmNewPassword, setShowConfirmedNewPassword] = useState(false);\n  const ResetPasswordSchema = Yup.object().shape({\n    newPassword: Yup.string().required('New Password is required'),\n    confirmNewPassword: Yup.string().oneOf([Yup.ref('newPassword')], 'Passwords must match').required('Confirm New Password is required')\n  });\n  const methods = useForm({\n    resolver: yupResolver(ResetPasswordSchema)\n    // defaultValues: { newPassword: 'demo@minimals.cc' },\n  });\n\n  const {\n    reset,\n    setError,\n    handleSubmit,\n    formState: {\n      isSubmitting\n    }\n  } = methods;\n  const onSubmit = async data => {\n    try {\n      await changePassword(data.newPassword);\n      logout();\n      navigate('/login');\n    } catch (error) {\n      console.error(error.message);\n      reset();\n      setError('afterSubmit', {\n        ...error,\n        message: error.message\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(FormProvider, {\n    methods: methods,\n    onSubmit: handleSubmit(onSubmit),\n    children: [/*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(RHFTextField, {\n        name: \"newPassword\",\n        label: \"New Password\",\n        type: showNewPassword ? 'text' : 'password',\n        InputProps: {\n          endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"end\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: () => setShowNewPassword(!showNewPassword),\n              edge: \"end\",\n              children: /*#__PURE__*/_jsxDEV(Iconify, {\n                icon: showNewPassword ? 'eva:eye-fill' : 'eva:eye-off-fill'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RHFTextField, {\n        name: \"confirmNewPassword\",\n        label: \"Confirm new password\",\n        type: showConfirmNewPassword ? 'text' : 'password',\n        InputProps: {\n          endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"end\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: () => setShowConfirmedNewPassword(!showConfirmNewPassword),\n              edge: \"end\",\n              children: /*#__PURE__*/_jsxDEV(Iconify, {\n                icon: showConfirmNewPassword ? 'eva:eye-fill' : 'eva:eye-off-fill'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n      fullWidth: true,\n      size: \"large\",\n      type: \"submit\",\n      variant: \"contained\",\n      loading: isSubmitting,\n      sx: {\n        mt: 3\n      },\n      children: \"Change Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n_s(AuthResetPasswordForm, \"3z2J8kCE+TJ7BivDS7nY8c5Jf40=\", false, function () {\n  return [useNavigate, useAuthContext, useForm];\n});\n_c = AuthResetPasswordForm;\nvar _c;\n$RefreshReg$(_c, \"AuthResetPasswordForm\");","map":{"version":3,"names":["useState","Yup","useNavigate","yupResolver","useForm","Link","Stack","Alert","IconButton","InputAdornment","LoadingButton","useAuthContext","Iconify","FormProvider","RHFTextField","AuthResetPasswordForm","navigate","changePassword","logout","showNewPassword","setShowNewPassword","showConfirmNewPassword","setShowConfirmedNewPassword","ResetPasswordSchema","object","shape","newPassword","string","required","confirmNewPassword","oneOf","ref","methods","resolver","reset","setError","handleSubmit","formState","isSubmitting","onSubmit","data","error","console","message","endAdornment","mt"],"sources":["C:/Users/pypho/Desktop/hogProject/src/sections/auth/AuthChangePasswordForm.js"],"sourcesContent":["import { useState } from 'react';\r\nimport * as Yup from 'yup';\r\nimport { useNavigate } from 'react-router-dom';\r\n// form\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { useForm } from 'react-hook-form';\r\n// @mui\r\nimport { Link, Stack, Alert, IconButton, InputAdornment } from '@mui/material';\r\nimport { LoadingButton } from '@mui/lab';\r\n// auth\r\nimport { useAuthContext } from '../../auth/useAuthContext';\r\n// components\r\nimport Iconify from '../../components/iconify';\r\nimport FormProvider, { RHFTextField } from '../../components/hook-form';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function AuthResetPasswordForm() {\r\n    const navigate = useNavigate();\r\n    const { changePassword, logout } = useAuthContext();\r\n\r\n    const [showNewPassword, setShowNewPassword] = useState(false);\r\n    const [showConfirmNewPassword, setShowConfirmedNewPassword] = useState(false);\r\n\r\n    const ResetPasswordSchema = Yup.object().shape({\r\n        newPassword: Yup.string().required('New Password is required'),\r\n        confirmNewPassword: Yup.string()\r\n        .oneOf([Yup.ref('newPassword')], 'Passwords must match')\r\n        .required('Confirm New Password is required')\r\n    });\r\n\r\n    const methods = useForm({\r\n        resolver: yupResolver(ResetPasswordSchema),\r\n        // defaultValues: { newPassword: 'demo@minimals.cc' },\r\n    });\r\n\r\n    const {\r\n        reset,\r\n        setError,\r\n        handleSubmit,\r\n        formState: { isSubmitting },\r\n    } = methods;\r\n\r\n    const onSubmit = async (data) => {\r\n        try {\r\n            await changePassword(data.newPassword);\r\n            logout();\r\n            navigate('/login');\r\n        } catch (error) {\r\n            console.error(error.message);\r\n\r\n            reset();\r\n\r\n            setError('afterSubmit', {\r\n                ...error,\r\n                message: error.message\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <FormProvider methods={methods} onSubmit={handleSubmit(onSubmit)}>\r\n            <Stack spacing={2}>\r\n                <RHFTextField\r\n                    name=\"newPassword\"\r\n                    label=\"New Password\"\r\n                    type={showNewPassword ? 'text' : 'password'}\r\n                    InputProps={{\r\n                        endAdornment: (\r\n                            <InputAdornment position=\"end\">\r\n                                <IconButton onClick={() => setShowNewPassword(!showNewPassword)} edge=\"end\">\r\n                                    <Iconify icon={showNewPassword ? 'eva:eye-fill' : 'eva:eye-off-fill'} />\r\n                                </IconButton>\r\n                            </InputAdornment>\r\n                        ),\r\n                    }}\r\n                />\r\n                <RHFTextField\r\n                    name=\"confirmNewPassword\"\r\n                    label=\"Confirm new password\"\r\n                    type={showConfirmNewPassword ? 'text' : 'password'}\r\n                    InputProps={{\r\n                        endAdornment: (\r\n                            <InputAdornment position=\"end\">\r\n                                <IconButton onClick={() => setShowConfirmedNewPassword(!showConfirmNewPassword)} edge=\"end\">\r\n                                    <Iconify icon={showConfirmNewPassword ? 'eva:eye-fill' : 'eva:eye-off-fill'} />\r\n                                </IconButton>\r\n                            </InputAdornment>\r\n                        ),\r\n                    }}\r\n                />\r\n            </Stack>\r\n\r\n            <LoadingButton fullWidth size=\"large\" type=\"submit\" variant=\"contained\" loading={isSubmitting} sx={{ mt: 3 }}>\r\n                Change Password\r\n            </LoadingButton>\r\n        </FormProvider>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}